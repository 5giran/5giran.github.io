---
title: "ë°±ì¤€ 2751 | DFSì™€ BFS"
date: 2025-05-17
categories: ["Algorithm", "ë°±ì¤€"]
tags: ["ê·¸ë˜í”„ íƒìƒ‰", "ê¹Šì´ ìš°ì„  íƒìƒ‰", "ë„ˆë¹„ ìš°ì„  íƒìƒ‰"]
---

# ğŸ“ ë¬¸ì œ ì„¤ëª…

1. ì…ë ¥: ì²«ì§¸ ì¤„ì— ê³µë°±ì„ ë‘ê³  ì •ìˆ˜ N, M, Vë¥¼ í•œ ì¤„ì— ì…ë ¥ ë°›ëŠ”ë‹¤.
   - N: ì •ì ì˜ ê°œìˆ˜
   - M: ê°„ì„ ì˜ ê°œìˆ˜
   - V: íƒìƒ‰ì„ ì‹œì‘í•  ì •ì ì˜ ë²ˆí˜¸ (1 - N)
2. ì¸¨ë ¥: ì²«ì§¸ ì¤„ì— DFSë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼, ê·¸ ë‹¤ìŒ ì¤„ì—ëŠ” BFSë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.
   - Vë¶€í„° ë°©ë¬¸ëœ ì ì„ ìˆœì„œëŒ€ë¡œ ì¶œë ¥
   - ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì •ì ì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš° ì •ì  ë²ˆí˜¸ê°€ ì‘ì€ê²ƒì„ ë¨¼ì € ë°©ë¬¸
   - ì € ì´ìƒ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì •ì ì´ ì—†ëŠ” ê²½ìš° ì¢…ë£Œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1260)

---

# ğŸ’¡ ì•„ì´ë””ì–´

1. ì²« ì¤„ì—ì„œ ì •ì  ìˆ˜ N, ê°„ì„  ìˆ˜ M, ì‹œì‘ ì •ì  Vë¥¼ `StringTokenizer`ë¡œ í•œë²ˆì— íŒŒì‹±í•œë‹¤.
2. ê·¸ë˜í”„ëŠ” ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•œë‹¤.
   - ê° ì •ì ë§ˆë‹¤ ì—°ê²°ëœ ì •ì ì„ ì €ì¥í•˜ê¸° ìœ„í•´ `ArrayList<Integer>[]` ë°°ì—´ì„ ì‚¬ìš©
3. ì–‘ë°©í–¥ ê°„ì„  ì…ë ¥ì„ ìœ„í•´ `adj[a].add(b)`ì™€ `adj[b].add(a)`ë¥¼ ì‚¬ìš©í•œë‹¤.
4. 'ì •ì  ë²ˆí˜¸ê°€ ì‘ì€ ê²ƒ ë¶€í„° ë°©ë¬¸í•œë‹¤'ë¼ëŠ” ê·œì¹™ì„ ìœ„í•´ì„œ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸(`adj[i]`)ë¥¼ `Collections.sort()`ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.
5. DFS, BFS íƒìƒ‰ ì¶œë ¥ì—ì„œ, ë°©ë¬¸ ë°°ì—´ì„ ë§¤ë²ˆ ì´ˆê¸°í™” í•´ì¤€ë‹¤. (`visited = new boolean[N + 1];`) ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ íƒìƒ‰ ê²°ê³¼ê°€ ì˜¤ì—¼ ë  ìˆ˜ ìˆë‹¤.
6. DFS ë¡œì§ì€ ì¬ê·€ë¡œ êµ¬í˜„í•˜ê³ , BFS ë¡œì§ì€ íë¡œ êµ¬í˜„í•œë‹¤.
   - DFSëŠ” `v` ë°©ë¬¸ ì •ì  ìì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.
   - BFSì˜ ë§¤ê°œë³€ìˆ˜ëŠ” startë¡œ, ì‹œì‘ì ë§Œ ì •ì˜í•´ì¤„ ë¿ì´ë‹¤.
   - ì´í›„ ì¸ì ‘ ì •ì ì€ `queue.offer()`ë¡œ íì— ì¶”ê°€í•œë‹¤.
   - ê·¸ëŸ¬ë¯€ë¡œ `.poll` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¯¸ ë°©ë¬¸í•œ ì •ì ì€ ì‚­ì œí•˜ì—¬ ì •ì  ë°©ë¬¸ ìˆœì„œë¥¼ ì œì–´í•œë‹¤.



## ğŸ” ì˜ˆì‹œ ê·¸ë˜í”„ ì‹œê°í™”
<img src="/assets/images/250517_dfsBfs.jpg" alt="ê·¸ë˜í”„" width="500">


---

# ğŸ›  ì½”ë“œ

### âœ¨ ì œì¶œ ì½”ë“œ
```java
import java.io.*;
import java.util.*;

public class Main {
    // ì •ì  ìˆ˜, ê°„ì„  ìˆ˜, ì‹œì‘ ì •ì  ë²ˆí˜¸
    static int N, M, V;

    // ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ (ì •ì ë§ˆë‹¤ ì—°ê²°ëœ ì •ì  ëª©ë¡)
    static List<Integer>[] adj;

    // ë°©ë¬¸ ì—¬ë¶€ ì €ì¥ ë°°ì—´
    static boolean[] visited;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;
        
        st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken()); 
        V = Integer.parseInt(st.nextToken());
        
        // ê·¸ë˜í”„ ì´ˆê¸°í™” (1~N)
        adj = new ArrayList[N + 1];
        for (int i = 1; i <= N; i++) {
            adj[i] = new ArrayList<>();
        }
        
        // ê°„ì„  ì •ë³´ ì…ë ¥
        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            // ì–‘ë°©í–¥ ì…ë ¥
            adj[a].add(b);
            adj[b].add(a);
        }
        
        // ì‘ì€ ì •ì ì„ ë¨¼ì € ë°©ë¬¸í•˜ê¸° ìœ„í•œ ì •ë ¬
        for (int i = 1; i <= N; i++) {
            Collections.sort(adj[i]);
        }
        
        // DFS ì¶œë ¥
        visited = new boolean[N + 1];
        dfs(V);
        System.out.println();
        
        // BFS ì¶œë ¥
        visited = new boolean[N + 1];
        bfs(V);
        System.out.println();
    }
    
    // DFS - ì¬ê·€ë¡œ êµ¬í˜„
    static void dfs(int v) {
        visited[v] = true;
        System.out.print(v + " ");
        for (int nxt : adj[v]) {
            if (!visited[nxt]) {
                dfs(nxt);
            }
        }
    }
    
    // BFS - íë¡œ êµ¬í˜„
    static void bfs(int start) {
        Queue<Integer> queue = new LinkedList<>();
        visited[start] = true;
        queue.offer(start);
        
        while (!queue.isEmpty()) {
            int v = queue.poll();
            System.out.print(v + " ");
            for (int nxt : adj[v]) {
                if (!visited[nxt]) {
                    visited[nxt] = true;
                    queue.offer(nxt);
                }
            }
        }
    }
}
```
<br>

### ğŸª„ ë””ë²„ê¹… ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {
    // ì •ì  ìˆ˜, ê°„ì„  ìˆ˜, ì‹œì‘ ì •ì  ë²ˆí˜¸
    static int N, M, V;

    // ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ (ì •ì ë§ˆë‹¤ ì—°ê²°ëœ ì •ì  ëª©ë¡)
    static List<Integer>[] adj;

    // ë°©ë¬¸ ì—¬ë¶€ ì €ì¥ ë°°ì—´
    static boolean[] visited;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        V = Integer.parseInt(st.nextToken());
        System.out.println("N=" + N + ", M=" + M + ", V=" + V);

        // ê·¸ë˜í”„ ì´ˆê¸°í™” (1~N)
        adj = new ArrayList[N + 1];
        for (int i = 1; i <= N; i++) {
            adj[i] = new ArrayList<>();
        }

        // ê°„ì„  ì •ë³´ ì…ë ¥
        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());

            adj[a].add(b); // a â†’ b ì—°ê²°
            adj[b].add(a); // b â†’ a ì—°ê²°
            System.out.println("ê°„ì„  ì¶”ê°€: " + a + " â†” " + b);
        }

        // ì‘ì€ ì •ì ì„ ë¨¼ì € ë°©ë¬¸í•˜ê¸° ìœ„í•œ ì •ë ¬
        for (int i = 1; i <= N; i++) {
            Collections.sort(adj[i]);
        }

        // ì „ì²´ ê·¸ë˜í”„ êµ¬ì¡° í™•ì¸ ì¶œë ¥
        System.out.println("ì •ë ¬ëœ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸:");
        for (int i = 1; i <= N; i++) {
            System.out.println("  " + i + " â†’ " + adj[i]);
        }
        System.out.println();

        // DFS ì¶œë ¥
        // DFSì™€ BFSëŠ” ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ visited ê°ê° ì´ˆê¸°í™”
        visited = new boolean[N + 1];
        System.out.println("===== DFS ì‹œì‘ =====");
        dfs(V);
        System.out.println("\n===== DFS ì¢…ë£Œ =====\n");

        // BFS ì¶œë ¥
        visited = new boolean[N + 1]; // ë°©ë¬¸ ë°°ì—´ ë‹¤ì‹œ ì´ˆê¸°í™”
        System.out.println("===== BFS ì‹œì‘ =====");
        bfs(V);
        System.out.println("\n===== BFS ì¢…ë£Œ =====");
    }

    // ===== DFS í•¨ìˆ˜ ì •ì˜ =====
    // ê¹Šì´ ìš°ì„  íƒìƒ‰: ê°€ëŠ¥í•œ í•œ ê¹Šê²Œ ë“¤ì–´ê°€ëŠ” ë°©ì‹ (ì¬ê·€ë¡œ êµ¬í˜„)
    static void dfs(int v) {
        visited[v] = true; // í˜„ì¬ ì •ì  ë°©ë¬¸ ì²˜ë¦¬
        System.out.println("[DFS] ë°©ë¬¸ â†’ " + v);

        // í˜„ì¬ ì •ì ì— ì—°ê²°ëœ ì¸ì ‘ ì •ì ë“¤ì„ ìˆœì„œëŒ€ë¡œ í™•ì¸
        for (int nxt : adj[v]) {
            System.out.println("  [DFS] " + v + "ì˜ ì´ì›ƒ ì²´í¬ â†’ " + nxt);

            // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¬ê·€ í˜¸ì¶œë¡œ ê³„ì† ë“¤ì–´ê°
            if (!visited[nxt]) {
                System.out.println("    [DFS] â†’ " + nxt + " ì¬ê·€ í˜¸ì¶œ");
                dfs(nxt);
            } else {
                System.out.println("    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ " + nxt);
            }
        }
    }

    // ===== BFS í•¨ìˆ˜ ì •ì˜ =====
    // ë„ˆë¹„ ìš°ì„  íƒìƒ‰: ê°€ê¹Œìš´ ë…¸ë“œë¶€í„° íƒìƒ‰í•˜ëŠ” ë°©ì‹ (íë¡œ êµ¬í˜„)
    static void bfs(int start) {
        Queue<Integer> queue = new LinkedList<>(); // íƒìƒ‰ì— ì‚¬ìš©í•  í
        visited[start] = true;                     // ì‹œì‘ ì •ì  ë°©ë¬¸ ì²˜ë¦¬
        queue.offer(start);                        // íì— ì‹œì‘ ì •ì  ë„£ê¸°
        System.out.println("[BFS] ì‹œì‘ ì •ì  â†’ " + start);

        // íê°€ ë¹Œ ë•Œê¹Œì§€ ë°˜ë³µ
        while (!queue.isEmpty()) {
            // íì—ì„œ êº¼ë‚´ë©´ì„œ í˜„ì¬ íƒìƒ‰í•  ì •ì  ì„ íƒ
            int v = queue.poll();
            System.out.println("[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ " + v);

            // í˜„ì¬ ì •ì ê³¼ ì—°ê²°ëœ ëª¨ë“  ì´ì›ƒ ì •ì  í™•ì¸
            for (int nxt : adj[v]) {
                System.out.println("  [BFS] " + v + "ì˜ ì´ì›ƒ ì²´í¬ â†’ " + nxt);

                // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì •ì ì´ë©´ íì— ì¶”ê°€
                if (!visited[nxt]) {
                    visited[nxt] = true;
                    queue.offer(nxt);
                    System.out.println("    [BFS] íì— ì¶”ê°€ â†’ " + nxt);
                } else {
                    System.out.println("    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ " + nxt);
                }
            }
        }
    }
}
```

### ğŸª„ ë””ë²„ê¹… ì½”ë“œ ì‹¤í–‰ ê²°ê³¼

```java
5 5 3
N=5, M=5, V=3
5 4
ê°„ì„  ì¶”ê°€: 5 â†” 4
5 2
ê°„ì„  ì¶”ê°€: 5 â†” 2
1 2
ê°„ì„  ì¶”ê°€: 1 â†” 2
3 4
ê°„ì„  ì¶”ê°€: 3 â†” 4
3 1
ê°„ì„  ì¶”ê°€: 3 â†” 1
ì •ë ¬ëœ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸:
  1 â†’ [2, 3]
  2 â†’ [1, 5]
  3 â†’ [1, 4]
  4 â†’ [3, 5]
  5 â†’ [2, 4]

===== DFS ì‹œì‘ =====
[DFS] ë°©ë¬¸ â†’ 3
  [DFS] 3ì˜ ì´ì›ƒ ì²´í¬ â†’ 1
    [DFS] â†’ 1 ì¬ê·€ í˜¸ì¶œ
[DFS] ë°©ë¬¸ â†’ 1
  [DFS] 1ì˜ ì´ì›ƒ ì²´í¬ â†’ 2
    [DFS] â†’ 2 ì¬ê·€ í˜¸ì¶œ
[DFS] ë°©ë¬¸ â†’ 2
  [DFS] 2ì˜ ì´ì›ƒ ì²´í¬ â†’ 1
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 1
  [DFS] 2ì˜ ì´ì›ƒ ì²´í¬ â†’ 5
    [DFS] â†’ 5 ì¬ê·€ í˜¸ì¶œ
[DFS] ë°©ë¬¸ â†’ 5
  [DFS] 5ì˜ ì´ì›ƒ ì²´í¬ â†’ 2
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 2
  [DFS] 5ì˜ ì´ì›ƒ ì²´í¬ â†’ 4
    [DFS] â†’ 4 ì¬ê·€ í˜¸ì¶œ
[DFS] ë°©ë¬¸ â†’ 4
  [DFS] 4ì˜ ì´ì›ƒ ì²´í¬ â†’ 3
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 3
  [DFS] 4ì˜ ì´ì›ƒ ì²´í¬ â†’ 5
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 5
  [DFS] 1ì˜ ì´ì›ƒ ì²´í¬ â†’ 3
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 3
  [DFS] 3ì˜ ì´ì›ƒ ì²´í¬ â†’ 4
    [DFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 4

===== DFS ì¢…ë£Œ =====

===== BFS ì‹œì‘ =====
[BFS] ì‹œì‘ ì •ì  â†’ 3
[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ 3
  [BFS] 3ì˜ ì´ì›ƒ ì²´í¬ â†’ 1
    [BFS] íì— ì¶”ê°€ â†’ 1
  [BFS] 3ì˜ ì´ì›ƒ ì²´í¬ â†’ 4
    [BFS] íì— ì¶”ê°€ â†’ 4
[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ 1
  [BFS] 1ì˜ ì´ì›ƒ ì²´í¬ â†’ 2
    [BFS] íì— ì¶”ê°€ â†’ 2
  [BFS] 1ì˜ ì´ì›ƒ ì²´í¬ â†’ 3
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 3
[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ 4
  [BFS] 4ì˜ ì´ì›ƒ ì²´í¬ â†’ 3
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 3
  [BFS] 4ì˜ ì´ì›ƒ ì²´í¬ â†’ 5
    [BFS] íì— ì¶”ê°€ â†’ 5
[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ 2
  [BFS] 2ì˜ ì´ì›ƒ ì²´í¬ â†’ 1
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 1
  [BFS] 2ì˜ ì´ì›ƒ ì²´í¬ â†’ 5
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 5
[BFS] poll()ë¡œ íì—ì„œ ì œê±° â†’ 5
  [BFS] 5ì˜ ì´ì›ƒ ì²´í¬ â†’ 2
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 2
  [BFS] 5ì˜ ì´ì›ƒ ì²´í¬ â†’ 4
    [BFS] ì´ë¯¸ ë°©ë¬¸í•¨ â†’ 4

===== BFS ì¢…ë£Œ =====
```

---

# â± ì‹œê°„ ë³µì¡ë„

- **ì…ë ¥ ì²˜ë¦¬**:  
  `M`ê°œì˜ ê°„ì„ ì„ ì½ê³  ì¸ì ‘ ë¦¬ìŠ¤íŠ¸(`adj`)ì— ì¶”ê°€ â†’ `O(M)`

- **ì •ë ¬**:  
  ê° ì •ì ì— ëŒ€í•´ ì •ë ¬ `Collections.sort()` ìˆ˜í–‰
  â†’ `O(N * log D)` (ì—¬ê¸°ì„œ DëŠ” ê° ì •ì ì˜ í‰ê·  ì¸ì ‘ ì •ì  ìˆ˜, ìµœì•…ì˜ ê²½ìš° D = N)
  â†’ ìµœì•…: `O(N log N)` (ì •ì ë§ˆë‹¤ ì—°ê²°ëœ ì •ì ì´ ë§ì„ ê²½ìš°)

- **DFS (ê¹Šì´ ìš°ì„  íƒìƒ‰)**:
  ê° ì •ì ì„ í•œë²ˆì”© ë°©ë¬¸í•˜ë©° ì¸ì ‘ ì •ì  íƒìƒ‰
  â†’ `O(N + M)`

- **BFS (ë„ˆë¹„ ìš°ì„  íƒìƒ‰)**:
  'íë¥¼ ì´ìš©í•´ì„œ' ê° ì •ì ì„ í•œë²ˆì”© ë°©ë¬¸í•˜ë©° ì¸ì ‘ ì •ì  íƒìƒ‰
  â†’ `O(N + M)`

- **ì¶œë ¥**:  
  `System.out.print()`ì„ í†µí•œ ìˆœì°¨ ì¶œë ¥
  â†’ `O(N)` (ìµœëŒ€ Nê°œ ì •ì  ë°©ë¬¸)

> ğŸ‘‰ **ì´ ì‹œê°„ ë³µì¡ë„**:  
> `O(M + N log N)`


---

# âœï¸ ëŠë‚€ ì 

- ë””ë²„ê¹… ì½”ë“œë¡œ ì²˜ë¦¬ê³¼ì •ì„ ëª¨ë“  ë‹¨ê³„ í†ºì•„ë³´ëŠ”ê²Œ ì´í•´ì— ë§ì€ ë„ì›€ì´ ëë‹¤.
- BFSëŠ” ìµœë‹¨ ê²½ë¡œë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê°„ì„ ì´ ìˆë‹¤.
